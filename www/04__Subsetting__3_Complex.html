<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="AsciiDoc 8.6.6" />

<title></title>

<link rel="stylesheet" href="style/asciidoc.css" type="text/css" />
<link rel="stylesheet" href="style/layout2.css" type="text/css" />
<link rel="stylesheet" href="style/dropdownMenu.css" type="text/css" />

<script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-25987540-1']);
          _gaq.push(['_trackPageview']);

          (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
</script>




</head>

<body style="max-width:1024px">

<div id="layout-menu-box">

<div id="layout-menu">
<div><a href="index.html">Home</a></div> <!-- &#187; -->
<div><a href="faq.html">FAQ</a></div>
<div><a href="gui.html">GUI</a></div>
<div><a href="bibliography.html">Bibliography</a></div>
<div><a href="gallery.html">Map&nbsp;gallery</a></div>

<div id="layout-menu-EXAMPLE"> EXAMPLES </div>
<div id="layout-menu-examples">
<ul class="menu menum">
<li class="menui0"> <a class="menui0" href="#"><span> Valcu_et_al </span></a>
<ul class="menum">
<li class="menui"><a class="menui" href= "00__Valcu_et_al__appendix_S2.html" > appendix_S2 </a></li>
<li class="menui"><a class="menui" href= "00__Valcu_et_al__appendix_S3.html" > appendix_S3 </a></li>
<li class="menui"><a class="menui" href= "00__Valcu_et_al__appendix_S4.html" > appendix_S4 </a></li>
<li class="menui"><a class="menui" href= "00__Valcu_et_al__appendix_S5.html" > appendix_S5 </a></li>
</ul>
</li>
<li class="menui0"><a class="menui0" href= "01__Species_Richness.html" > Species_Richness </a></li>
<li class="menui0"><a class="menui0" href= "02__SQL_and_R.html" > SQL_and_R </a></li>
<li class="menui0"><a class="menui0" href= "03__Range_Traits.html" > Range_Traits </a></li>
<li class="menui0"> <a class="menui0" href="#"><span> Subsetting </span></a>
<ul class="menum">
<li class="menui"><a class="menui" href= "04__Subsetting__1_Species_level.html" > 1_Species_level </a></li>
<li class="menui"><a class="menui" href= "04__Subsetting__2_Assambladge_level.html" > 2_Assambladge_level </a></li>
<li class="menui"><a class="menui" href= "04__Subsetting__3_Complex.html" > 3_Complex </a></li>
</ul>
</li>
</ul>

</div>

</div>
</div>

<div id="layout-content-box">

        <div id="layout-banner">
          <div id="layout-title">rangeMapper</div>
          <div id="layout-description">A platform for the study of macroecology of life history traits</div>
        </div>

<div id="layout-content">

        <div id="content">
<div class="sect2">
<h3 id="_unstudied_and_extinction_prone_wren_species">Unstudied and extinction-prone wren species</h3>
<div class="sect3">
<h4 id="_subsetting_at_both_species_and_assambladge_level">SUBSETTING AT BOTH SPECIES AND ASSAMBLADGE LEVEL</h4>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="style/note.png" alt="Note" />
</td>
<td class="content"><tt>rangeMap.save()</tt> takes a named list as a <em>subset</em> argument. Names refers to <em>BIO</em> tables (i.e. species level) and/or <em>MAP</em> and <em>metadata_rages</em> tables (i.e. assambladge level) while the corresponding character strings contain the SQL <em>WHERE</em> elements.</td>
</tr></table>
</div>
<div class="listingblock">
<div class="content">
<pre><tt> #Start a new project
  require(rangeMapper)
  dbcon = rangeMap.start(file = "wrens.sqlite",dir = tempdir() , overwrite = TRUE)
  f = system.file(package = "rangeMapper", "extdata", "wrens", "vector_combined")
  projString =  CRS(" +proj=cea +lon_0=0 +lat_ts=30 +x_0=0+y_0=0 +ellps=WGS84 +units=km +no_defs")
  global.bbox.save(con = dbcon, bbox = f, p4s = projString)
  gridSize.save(dbcon)
  canvas.save(dbcon)
  r = readOGR(f, "wrens", verbose = FALSE)
  processRanges(spdf = r, con =  dbcon, ID = "sci_name", metadata  = rangeTraits() )
  data(wrens)
  bio.save(con = dbcon, loc = wrens,  ID = "sci_name")</tt></pre>
</div></div>
<div class="listingblock">
<div class="title"># Clutch size is not known for a bunch of wren species.</div>
<div class="content">
<pre><tt> ascii(wrens[is.na(wrens$clutch_size), c("sci_name", "genus", "clutch_size")])</tt></pre>
</div></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"></p></td>
<td align="left" valign="top"><p class="table header">sci_name</p></td>
<td align="left" valign="top"><p class="table header">genus</p></td>
<td align="left" valign="top"><p class="table header">clutch_size</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">9</p></td>
<td align="left" valign="top"><p class="table">Campylorhynchus_albobrunneus</p></td>
<td align="left" valign="top"><p class="table">Campylorhynchus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">13</p></td>
<td align="left" valign="top"><p class="table">Campylorhynchus_megalopterus</p></td>
<td align="left" valign="top"><p class="table">Campylorhynchus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">14</p></td>
<td align="left" valign="top"><p class="table">Odontorchilus_cinereus</p></td>
<td align="left" valign="top"><p class="table">Odontorchilus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">15</p></td>
<td align="left" valign="top"><p class="table">Odontorchilus_branickii</p></td>
<td align="left" valign="top"><p class="table">Odontorchilus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">19</p></td>
<td align="left" valign="top"><p class="table">Hylorchilus_navai</p></td>
<td align="left" valign="top"><p class="table">Hylorchilus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">20</p></td>
<td align="left" valign="top"><p class="table">Cinnycerthia_unirufa</p></td>
<td align="left" valign="top"><p class="table">Cinnycerthia</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">23</p></td>
<td align="left" valign="top"><p class="table">Cinnycerthia_fulva</p></td>
<td align="left" valign="top"><p class="table">Cinnycerthia</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">25</p></td>
<td align="left" valign="top"><p class="table">Cistothorus_meridae</p></td>
<td align="left" valign="top"><p class="table">Cistothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">31</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_albinucha</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">32</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_atrogularis</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">35</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_euophrys</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">36</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_eisenmanni</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">38</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_mystacalis</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">43</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_sclateri</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">47</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_leucopogon</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">50</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_nicefori</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">57</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_longirostris</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">58</p></td>
<td align="left" valign="top"><p class="table">Thryothorus_griseus</p></td>
<td align="left" valign="top"><p class="table">Thryothorus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">61</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_brunneicollis</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">63</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_tanneri</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">64</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_beani</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">66</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_sissonii</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">68</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_monticola</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">69</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_ochraceus</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">71</p></td>
<td align="left" valign="top"><p class="table">Troglodytes_rufulus</p></td>
<td align="left" valign="top"><p class="table">Troglodytes</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">75</p></td>
<td align="left" valign="top"><p class="table">Henicorhina_negreti</p></td>
<td align="left" valign="top"><p class="table">Henicorhina</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">77</p></td>
<td align="left" valign="top"><p class="table">Henicorhina_leucoptera</p></td>
<td align="left" valign="top"><p class="table">Henicorhina</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">79</p></td>
<td align="left" valign="top"><p class="table">Microcerculus_philomela</p></td>
<td align="left" valign="top"><p class="table">Microcerculus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">80</p></td>
<td align="left" valign="top"><p class="table">Microcerculus_ustulatus</p></td>
<td align="left" valign="top"><p class="table">Microcerculus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">81</p></td>
<td align="left" valign="top"><p class="table">Microcerculus_bambla</p></td>
<td align="left" valign="top"><p class="table">Microcerculus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">82</p></td>
<td align="left" valign="top"><p class="table">Cyphorhinus_thoracicus</p></td>
<td align="left" valign="top"><p class="table">Cyphorhinus</p></td>
<td align="left" valign="top"><p class="table"></p></td>
</tr>
</tbody>
</table>
</div>
<div class="listingblock">
<div class="title"># Restricted range species ( species with a high extinction risk)</div>
<div class="content">
<pre><tt> meta = RMQuery(dbcon, "SELECT * FROM metadata_ranges")
 plot(density(log(meta$Area)))
 abline(v = quantile(log(meta$Area), 0.50), col = 2, lty = 2)
 exp(quantile(log(meta$Area), 0.50))</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>     50%
182751.7</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt></tt></pre>
</div></div>
<div class="imageblock">
<div class="content">
<img src="figs/06-003.jpg" alt="figs/06-003.jpg" />
</div>
</div>
<div class="listingblock">
<div class="title"># Mapping: Unstudied and extinction-prone wren species</div>
<div class="content">
<pre><tt> rangeMap.save(dbcon)
  rangeMap.save(dbcon, biotab = "wrens", subset = list(BIO_wrens = "clutch_size is NULL", metadata_ranges = "Area &lt; 182751" ),
                tableName = "mistery_wrens_species_richness", overwrite = TRUE)</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt> # Fetch and plot maps
 m = rangeMap.fetch(dbcon)
 plot(m, scales = FALSE)</tt></pre>
</div></div>
<div class="imageblock">
<div class="content">
<img src="figs/06-005.jpg" alt="figs/06-005.jpg" />
</div>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="100%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">R version 2.14.0 (2011-10-31)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">rangeMapper 0.0-6.6</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">website generated using ascii 2.1</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
        </div>

        <div id="footnotes"><hr /></div>
        <div id="footer">

        <div id="footer-text">
Last updated 2011-12-01 16:56:08 W. Europe Standard Time
        </div>

<div id="footer-badges">
<a href="http://validator.w3.org/check?uri=referer"> <img style="border:0;width:88px;height:31px"
        src="http://www.w3.org/Icons/valid-xhtml11-blue" alt="Valid XHTML 1.1" height="31" width="88" /></a>
</div>
</div>
</div>
</div>



</body>
</html>
