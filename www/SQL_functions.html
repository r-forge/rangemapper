<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
	<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
	<meta name="generator" content="AsciiDoc 8.6.6" />
	<title>rangeMapper</title> 
	<meta name="description" content="rangeMapper: A platform for the study of macroecology of life history traits">
	<meta name="author" content="Mihai Valcu">
	<meta name="keywords" content="macroecology, GIS, species richness, life history traits, rangeMapper, Aves,R, spatial analysis" />
	<link rel="stylesheet" href="style/style.css" type="text/css" />
	
	<!-- google-analytics -->
	<script type="text/javascript">

			  var _gaq = _gaq || [];
			  _gaq.push(["_setAccount", "UA-25987540-1"]);
			  _gaq.push(["_trackPageview"]);

			  (function() {
					var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
					ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
					var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
			  })();
	</script>
	
	<script src="style/syntaxHighlighter.js"> </script>
	
	</head>
	<body style="max-width:1024px">	
	
<div id="layout-leftBar"> <ul id="layout-leftBar" class="level1">
 <h4> rangeMapper </h4>
 <li><a href= "index.html" > home </a> </li>
 <li><a href= "FAQ.html" > FAQ </a> </li>
 <li><a href= "gui.html" > gui </a> </li>
 <li><a href= "bibliography.html" > bibliography </a> </li>
 <h4> Examples </h4>
 <li class="submenu"><a> Getting started </a> <ul class="level2"> <li><a href= "Species_Richness.html" > Species_Richness </a></li>
<li><a href= "map_projection.html" > map_projection </a></li> </ul> </li>
 <li class="submenu"><a> aggregate assambladges </a> <ul class="level2"> <li><a href= "SQL_functions.html" > SQL_functions </a></li>
<li><a href= "R_functions.html" > R_functions </a></li> </ul> </li>
 <li class="submenu"><a> Range Traits </a> <ul class="level2"> <li><a href= "Range_Traits.html" > Range_Traits </a></li>
<li><a href= "Range_Traits2.html" > Range_Traits2 </a></li> </ul> </li>
 <li class="submenu"><a> Subsetting </a> <ul class="level2"> <li><a href= "Species_level.html" > Species_level </a></li>
<li><a href= "Assambladge_level.html" > Assambladge_level </a></li>
<li><a href= "Species&Assambladge_level.html" > Species&Assambladge_level </a></li> </ul> </li>
 <h4> Case studies </h4>
 <li class="submenu"><a> Valcu et al 2012 </a> <ul class="level2"> <li><a href= "appendix_S2.html" > appendix_S2 </a></li>
<li><a href= "appendix_S3.html" > appendix_S3 </a></li>
<li><a href= "appendix_S4.html" > appendix_S4 </a></li>
<li><a href= "appendix_S5.html" > appendix_S5 </a></li> </ul> </li>
 <li><a href= "Falconidae.html" > Falconidae </a> </li>
 </ul></div>

<div id="layout-content-box"> <div id="layout-banner"> <div id="layout-title">rangeMapper</div><div id="layout-description">A platform for the study of macroecology of life history traits</div></div>
<h6> This script runs with  R version 2.15.1 (2012-06-22) & rangeMapper 0.1-7) </h6>

<p>Body size distribution of the New World Wrens</p>

<pre><code class="r">require(rangeMapper)
dbcon = rangeMap.start(file = &quot;wrens.sqlite&quot;,dir = tempdir() , overwrite = TRUE)

# Breeding range vector files
f = system.file(package = &quot;rangeMapper&quot;, &quot;extdata&quot;, &quot;wrens&quot;, &quot;vector_combined&quot;)
global.bbox.save(con = dbcon, bbox = f) 
gridSize.save(dbcon) 

#  save canvas 
canvas.save(dbcon) 
</code></pre>

<p>Import taxa and life history data</p>

<pre><code class="r">data(wrens)
head(wrens[, 3:6])
</code></pre>

<pre><code>##         com_name           genus body_size body_mass
## 1 boucard&#39;s wren Campylorhynchus      17.0      27.6
## 2   spotted wren Campylorhynchus      17.0      30.1
## 3   yucatan wren Campylorhynchus      18.0      35.5
## 4    cactus wren Campylorhynchus      18.5      38.9
## 5     giant wren Campylorhynchus      21.0      50.9
## 6 bicolored wren Campylorhynchus      21.5      42.4
</code></pre>

<pre><code class="r">
</code></pre>

<pre><code class="r">bio.save(con = dbcon, loc = wrens, ID = &quot;sci_name&quot;)

# Process ranges
r = readOGR(f, &quot;wrens&quot;, verbose = FALSE)
processRanges(spdf = r, con = dbcon, ID = &quot;sci_name&quot;)
</code></pre>

<p>Mapping using  an SQL aggregate function  is significantly faster than using an R function<br/>
Available SQL _aggregate _ functions: </p>

<ul>
<li>avg<br/></li>
<li>stdev<br/></li>
<li>variance<br/></li>
<li>mode<br/></li>
<li>median<br/></li>
<li>lower_quartile</li>
<li>upper_quartile</li>
<li>sum / total<br/></li>
<li>max<br/></li>
<li>min<br/></li>
<li>count<br/></li>
</ul>

<pre><code class="r">rangeMap.save(dbcon, biotab = &quot;wrens&quot;,FUN = &quot;median&quot;, biotrait = &quot;body_size&quot;, 
    tableName = &quot;median_body_size&quot;)

</code></pre>

<pre><code class="r"># Fetch and plot map
sr = rangeMap.fetch(dbcon)
plot(sr)
</code></pre>

<p><img src="data:image/png;base64,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" alt="plot of chunk unnamed-chunk-5"/> </p>

<p><footer>  Website built with <code>R version 2.15.1 (2012-06-22) , knitr 0.7 &amp; markdown 0.5.2</code> </footer> <br/>
                <footer> Last update <code>09/09/2012 09:04</code> , <a href="mailto:valcu@orn.mpg.de">valcu@orn.mpg.de</a> </footer> </p>

</div></div> <div id="footer"> <div id="footer-badge"> <a href="http://validator.w3.org/check?uri=referer"> <img style="border:0;width:88px;height:31px" src="http://www.w3.org/Icons/valid-xhtml11-blue" alt="Valid XHTML 1.1" height="31" width="88" /></a></div></div></body></html>
